(function(e){function t(t){for(var i,o,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0652":function(e,t,n){var i={"./1.png":"53ae","./2.png":"2e47","./3.png":"beec","./4.png":"7389"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id="0652"},"1dd7":function(e,t,n){},2309:function(e,t,n){"use strict";n("1dd7")},"2e47":function(e,t,n){e.exports=n.p+"img/2.7b43f546.png"},3753:function(e,t,n){"use strict";n("c86c")},3971:function(e,t,n){"use strict";n("9ac7")},"3c00":function(e,t,n){},"3cb5":function(e,t,n){"use strict";n("d3b8")},"4bb1":function(e,t,n){"use strict";n("3c00")},"53ae":function(e,t,n){e.exports=n.p+"img/1.e360d4ad.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[e.$route.meta.fullscreen?e._e():n("v-app-bar",{attrs:{"max-height":"56px",color:"primary",dark:""}},[e._v(e._s(e.title))]),n("v-main",[n("router-view")],1)],1)},a=[],o=(n("b0c0"),{name:"App",computed:{title:function(){return this.$route.name||"E-Signage"}},data:function(){return{}}}),s=o,c=n("2877"),l=n("6544"),u=n.n(l),d=n("7496"),f=n("40dc"),p=n("f6c4"),m=Object(c["a"])(s,r,a,!1,null,null,null),v=m.exports;u()(m,{VApp:d["a"],VAppBar:f["a"],VMain:p["a"]});var _=n("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-space-around align-center",staticStyle:{gap:"15px",padding:"15px",height:"100%"}},[n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/viewer"}},[n("v-card",{attrs:{"min-width":"300px","max-width":"100%"}},[n("v-card-text",{staticClass:"text-center"},[n("v-icon",{attrs:{size:"200"}},[e._v("mdi-monitor")]),n("div",[e._v("Viewer")])],1)],1)],1),n("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/editor"}},[n("v-card",{attrs:{"min-width":"300px","max-width":"100%"}},[n("v-card-text",{staticClass:"text-center"},[n("v-icon",{attrs:{size:"200"}},[e._v("mdi-application-edit-outline")]),n("div",[e._v("Editor")])],1)],1)],1)],1)},g=[],b={name:"Home",components:{}},w=b,y=n("b0af"),x=n("99d9"),k=n("132d"),j=Object(c["a"])(w,h,g,!1,null,null,null),O=j.exports;u()(j,{VCard:y["a"],VCardText:x["a"],VIcon:k["a"]});var S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"}},[n("split-container",{staticStyle:{height:"100%"},attrs:{position_key:"editor_split_line",max_percent:70,min_percent:30},scopedSlots:e._u([{key:"left",fn:function(){return[e.UI.viewer.exists?n("e-signage-viewer",{attrs:{json_data:e.json_data,absolute:""}}):e._e()]},proxy:!0},{key:"right",fn:function(){return[n("div",{staticStyle:{padding:"15px",gap:"15px",display:"flex","flex-direction":"column"}},[n("div",{staticClass:"d-flex flex-wrap ",staticStyle:{gap:"5px"}},[n("v-btn",{attrs:{loading:e.UI.btn_open.is_loading,color:"primary"},on:{click:e.open_zip}},[e._v("Open")]),n("v-btn",{attrs:{loading:e.UI.btn_download.is_loading,color:"primary"},on:{click:e.download_zip}},[e._v("Download")]),n("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.restart_viewer()}}},[e._v("Restart")]),n("v-spacer"),n("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.$router.back()}}},[e._v("Back")])],1),n("v-text-field",{attrs:{type:"text",label:"Name",placeholder:"E-Signage","persistent-placeholder":""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("layout-selector",{attrs:{label:"Layout"},model:{value:e.selected_layout,callback:function(t){e.selected_layout=t},expression:"selected_layout"}}),n("v-expansion-panels",e._l(e.windows,(function(t,i){return n("v-expansion-panel",{key:i},[n("v-expansion-panel-header",[e._v(" Channel "+e._s(i)+" "),e.is_in_use(i)?e._e():n("span",{staticClass:"error--text pl-3"},[e._v("(Not In Use)")])]),n("v-expansion-panel-content",[n("draggable",{staticClass:"d-flex flex-column",staticStyle:{gap:"15px"},model:{value:e.windows[i],callback:function(t){e.$set(e.windows,i,t)},expression:"windows[channel]"}},e._l(t,(function(t){return n("div",{key:t.id,staticClass:"d-flex align-stretch",staticStyle:{gap:"15px"}},[n("window-item",{staticStyle:{width:"100px",height:"100px"},attrs:{item:t}}),n("div",{staticClass:"d-flex flex-column",staticStyle:{flex:"1"}},[n("div",{staticStyle:{"word-break":"break-all"}},[e._v(" "+e._s(t.file.name)+" ")]),n("v-spacer"),n("div",{staticClass:"text-right"},[n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.copy_item(t)}}},[n("v-icon",[e._v("mdi-content-copy")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(n){return e.edit_item(t)}}},[n("v-icon",[e._v("mdi-lead-pencil")])],1),n("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(n){return e.remove_item(t)}}},[n("v-icon",[e._v("mdi-trash-can-outline")])],1)],1)],1)],1)})),0),n("div",{staticClass:"text-center pt-3"},[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.create_item(i)}}},[e._v("Add Item")])],1)],1)],1)})),1)],1)]},proxy:!0}])}),n("item-edit-dialog",{ref:"item_edit_dialog",on:{save:function(t){return e.add_to_channel(t)}}})],1)},C=[],I=n("5530"),V=n("1da1"),E=(n("96cf"),n("159b"),n("c740"),n("a434"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-menu",{attrs:{"offset-y":"","max-width":"fit-content","min-width":"fit-content"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[i("div",[e.label?i("div",{staticClass:"text-caption"},[e._v(e._s(e.label))]):e._e(),i("v-card",e._g(e._b({staticStyle:{padding:"5px"},attrs:{width:"fit-content"}},"v-card",a,!1),r),[i("v-img",{staticStyle:{border:"1px solid black"},attrs:{src:n("0652")("./"+e.value+".png"),"max-width":"100px"}})],1)],1)]}}])},[i("v-list",{staticStyle:{padding:"0",width:"fit-content"}},[e._l(e.layouts,(function(t,r){return[i("v-list-item",{key:t,staticStyle:{padding:"5px"},attrs:{dense:""},on:{click:function(n){return e.$emit("input",t)}}},[i("v-list-item-title",[i("v-img",{staticStyle:{border:"1px solid black"},attrs:{src:n("0652")("./"+t+".png"),"max-width":"100px"}})],1)],1),r<e.layouts.length-1?i("v-divider",{key:"line"+t}):e._e()]}))],2)],1)}),$=[],R={name:"LayoutSelector",props:{label:{type:String,default:function(){return null}},value:{type:String,default:function(){return"1"}}},model:{prop:"value",event:"input"},data:function(){return{layouts:["1","2","3","4"]}}},U=R,z=n("ce7e"),T=n("adda"),A=n("8860"),F=n("da13"),q=n("5d23"),D=n("e449"),N=Object(c["a"])(U,E,$,!1,null,"c1780576",null),L=N.exports;u()(N,{VCard:y["a"],VDivider:z["a"],VImg:T["a"],VList:A["a"],VListItem:F["a"],VListItemTitle:q["b"],VMenu:D["a"]});var M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"split-container",class:{vertical:e.$vuetify.breakpoint.mdAndDown},style:{"--position":e.position}},[n("div",{staticClass:"left-side"},[e._t("left")],2),n("div",{directives:[{name:"touch",rawName:"v-touch",value:e.touch_handler,expression:"touch_handler"}],staticClass:"split-line",class:{"is-moving":e.is_moving},on:{mousemove:e.touch_handler.move,mousedown:e.touch_handler.move,mouseup:function(t){e.is_moving=!1},mouseleave:e.touch_handler.move}},[e._t("split-line")],2),n("div",{staticClass:"right-side"},[e._t("right")],2)])},P=[],B=(n("a9e3"),{name:"SplitContainer",props:{default_position:{type:[String,Number],default:function(){return"50%"}},position_key:{type:String,default:function(){return null}},max_percent:{type:Number,default:function(){return null}},min_percent:{type:Number,default:function(){return null}}},created:function(){var e=localStorage.getItem(this.save_key);e?(e=this.get_position_in_range(parseInt(e)),this.set_position(e)):this.position=this.default_position},computed:{save_key:function(){return"split-container-"+this.position_key}},data:function(){var e=this,t=function(t){if(null==t.buttons||0!==t.buttons){var n=t.clientX||t.touchmoveX;e.$vuetify.breakpoint.mdAndDown&&(n=t.clientY||t.touchmoveY),e.move_line(n)}else e.is_moving=!1};return{is_moving:!1,position:"50%",touch_handler:{move:t,end:function(){e.is_moving=!1}}}},methods:{move_line:function(e){e-=1,e=this.get_position_in_range(e),this.is_moving=!0,this.set_position(e),this.position_key&&this.save_position()},set_position:function(e){this.position="".concat(e,"px")},get_position_in_range:function(e){var t=this.$vuetify.breakpoint.mdAndDown?window.innerHeight:window.innerWidth,n=this.max_percent?t*this.max_percent/100:null,i=this.min_percent?t*this.min_percent/100:null;return e=Math.min(t,Math.max(e,0)),n&&(e=Math.min(n,e)),i&&(e=Math.max(i,e)),e},save_position:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:localStorage.setItem(e.save_key,e.position);case 1:case"end":return t.stop()}}),t)})))()}}}),W=B,J=(n("3cb5"),n("269a")),Y=n.n(J),H=n("c3f0"),X=Object(c["a"])(W,M,P,!1,null,"352b99a3",null),Z=X.exports;Y()(X,{Touch:H["a"]});var G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",e._g(e._b({attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},"v-dialog",e.$attrs,!1),e.$listeners),[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-btn",{attrs:{icon:"",dark:""},on:{click:e.close}},[n("v-icon",[e._v("mdi-close")])],1),n("v-toolbar-title",[e._v(e._s(e.title))]),n("v-spacer"),n("v-toolbar-items",[n("v-btn",{attrs:{dark:"",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1),e.item?n("v-form",{ref:"form",staticClass:"d-flex flex-column",staticStyle:{padding:"15px",gap:"15px"}},[n("window-item",{staticStyle:{"min-height":"300px"},attrs:{item:e.item,video_control:""},on:{loaded:e.loaded}}),n("v-file-input",{attrs:{rules:e.rules.file,value:e.item.file,label:"File",placeholder:e.item.file&&e.item.file.name,"persistent-placeholder":"","hide-details":"auto"},on:{change:e.change_file}}),n("v-select",{attrs:{label:"Channel",rules:e.rules.channel,items:e.channel_items},model:{value:e.item.channel,callback:function(t){e.$set(e.item,"channel",t)},expression:"item.channel"}}),n("v-text-field",{attrs:{type:"number",label:"Duration"},model:{value:e.item.duration,callback:function(t){e.$set(e.item,"duration",t)},expression:"item.duration"}})],1):e._e()],1)],1)},K=[],Q=(n("caad"),n("2532"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0"),n("2b3d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"window-item"},[e.item?[e.item.is_image?n("img",{staticClass:"item-content",attrs:{src:e.item.url},on:{load:e.loaded}}):e.item.is_video?n("video",{ref:"video",staticClass:"item-content",attrs:{src:e.item.url,autoplay:e.is_current&&e.autoplay,controls:e.video_control},on:{loadeddata:e.loaded}}):e._e()]:e._e()],2)}),ee=[],te={name:"WindowItem",props:{video_control:{type:Boolean,default:function(){return!1}},is_current:{type:Boolean,default:function(){return!1}},autoplay:{type:Boolean,default:function(){return!1}},item:{type:Object,default:function(){return null}}},watch:{is_current:function(e){e&&this.play()}},methods:{loaded:function(e){this.$emit("loaded",e)},play:function(){if(this.$refs.video){var e=this.$refs.video;this.autoplay?(e.currentTime=0,e.play()):e.pause()}}}},ne=te,ie=(n("2309"),Object(c["a"])(ne,Q,ee,!1,null,"362b835e",null)),re=ie.exports,ae={1:["1"],2:["1","2"],3:["1","2","3"],4:["1","2","3","4"]},oe=["1","2","3","4"];function se(e,t){return ae["".concat(e)].includes("".concat(t))}var ce={name:"ItemEditDialog",components:{WindowItem:re},data:function(){return{title:null,show:!1,item:null,channel_items:oe}},computed:{rules:function(){var e=this;return{file:[function(){return null!=e.item.file||"File cannot be empty!"},function(){return e.item.file&&(e.item.file.type.includes("image/")||e.item.file.type.includes("video/"))||"File must be image/video!"}],channel:[function(e){return null!=e||"Channel cannot be empty!"}]}}},methods:{open:function(e){this.show=!0,this.item=this.parse_item(e)},close:function(){this.show=!1,this.item=null},parse_item:function(e){return null==e&&(e={}),Object(I["a"])({id:Math.random().toString().substr(2),channel:"1",url:null,is_image:!1,is_video:!1,duration:3},e)},change_file:function(e){var t=this.item||{},n=t.is_image;t.url=e?URL.createObjectURL(e):null,t.file=e,t.is_image=!!e&&e.type.includes("image/"),t.is_video=!!e&&e.type.includes("video/"),!n&&t.is_image&&(t.duration=3),this.item=t},save:function(){this.$refs.form.validate()&&(this.$emit("save",this.item),this.close())},loaded:function(e){console.log(e),this.item.is_video&&(this.item.duration=Math.ceil(e.target.duration))}}},le=ce,ue=n("8336"),de=n("169a"),fe=n("23a7"),pe=n("4bd4"),me=n("b974"),ve=n("2fa4"),_e=n("8654"),he=n("71d9"),ge=n("2a7f"),be=Object(c["a"])(le,G,K,!1,null,"7a24fcd7",null),we=be.exports;u()(be,{VBtn:ue["a"],VCard:y["a"],VDialog:de["a"],VFileInput:fe["a"],VForm:pe["a"],VIcon:k["a"],VSelect:me["a"],VSpacer:ve["a"],VTextField:_e["a"],VToolbar:he["a"],VToolbarItems:ge["a"],VToolbarTitle:ge["b"]});n("d81d"),n("4ec9"),n("99af"),n("ac1f"),n("1276");var ye=n("c4e3"),xe=n.n(ye),ke=n("21a6");function je(e){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(V["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in n=new xe.a,t=Object(I["a"])({},t),t.name=t.name||"E-Signage",t.windows=Object(I["a"])({},t.windows),i=n.folder("file"),r=[],t.windows)t.windows[a]=t.windows[a].map((function(e){return Object(I["a"])({},e)})),t.windows[a].forEach((function(e){r.includes(e.file.name)||(i.file(e.file.name,e.file,{compression:"STORE"}),r.push(e.file.name)),e.file=e.file.name}));return n.file("data.json",JSON.stringify(t)),e.next=10,n.generateAsync({type:"blob"});case 10:o=e.sent,Object(ke["saveAs"])(o,"".concat(t.name,".zip"));case 12:case"end":return e.stop()}}),e)}))),Oe.apply(this,arguments)}function Se(e){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(V["a"])(regeneratorRuntime.mark((function e(t){var n,i,r,a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xe.a.loadAsync(t);case 2:return n=e.sent,e.next=5,n.file("data.json").async("string");case 5:for(c in i=e.sent,r=JSON.parse(i),a=n.folder("file"),o=[],s=new Map,r.windows)o=r.windows[c].map(function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.file,t.is_image&&(n="image/"),t.is_video&&(n="video/"),n+=i.split(".").pop(),!s.has(i)){e.next=8;break}t.file=s.get(i),e.next=13;break;case 8:return e.next=10,a.file("".concat(t.file)).async("blob");case 10:t.file=e.sent,t.file=new File([t.file],i,{type:n}),s.set(i,t.file);case 13:t.url=URL.createObjectURL(t.file);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).concat(o);return e.next=13,Promise.all(o);case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)}))),Ce.apply(this,arguments)}function Ie(){return new Promise((function(e){var t=document.createElement("input");t.type="file",t.accept=".zip",t.oncancel=function(){e(null)},t.onchange=function(){e(t.files.length?t.files[0]:null)},t.click()}))}var Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e-signage-viewer",class:e.get_viewer_classes()},e._l(e.layout_windows[e.json_data.selected_layout],(function(t){return n("channel-window",{key:t,ref:"channels",refInFor:!0,attrs:{channel:e.json_data.windows[t],trigger:e.trigger}})})),1)},Ee=[],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"channel-window"},e._l(e.buffer_channel(),(function(e,t){return n("window-item",{key:e.id,ref:"window_items",refInFor:!0,attrs:{is_current:0===t,item:e,autoplay:""}})})),1)},Re=[],Ue=(n("fb6a"),{name:"ChannelWindow",components:{WindowItem:re},props:{channel:{type:Array,default:function(){return[]}},buffer_size:{type:Number,default:function(){return 2}},trigger:{type:Number,default:function(){return null}}},data:function(){return{duration:0,queue:[]}},created:function(){this.set_channel(this.channel)},watch:{channel:function(e){this.set_channel(e)},trigger:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.query.length){t.next=2;break}return t.abrupt("return");case 2:if(0!==e.duration){t.next=12;break}return n=e.query.shift(),e.query.push(n),e.duration=e.query[0].duration,e.$forceUpdate(),t.next=9,e.$nextTick();case 9:e.play(),t.next=13;break;case 12:e.duration=e.duration-1;case 13:case"end":return t.stop()}}),t)})))()}},methods:{buffer_channel:function(){return this.query?this.query.slice(0,this.buffer_size):[]},play:function(){this.$refs.window_items[0].play()},set_channel:function(e){this.query=e.concat([]),this.query.length&&(this.duration=this.query[0].duration),this.$forceUpdate()}}}),ze=Ue,Te=(n("4bb1"),Object(c["a"])(ze,$e,Re,!1,null,"34501fdf",null)),Ae=Te.exports,Fe={name:"e-signage-viewer",components:{ChannelWindow:Ae},props:{json_data:{type:Object,default:function(){return null}},absolute:{type:Boolean,default:function(){return!1}}},data:function(){return{layout_windows:ae,trigger:0,loop_id:null}},created:function(){var e=this;this.loop_id=setInterval((function(){e.trigger=(e.trigger+1)%2}),1e3)},mounted:function(){this.$refs.channels.forEach((function(e){return e.play()}))},beforeDestroy:function(){clearInterval(this.loop_id)},methods:{get_viewer_classes:function(){var e={};return e["layout-"+this.json_data.selected_layout]=!0,e["absolute"]=this.absolute,e}}},qe=Fe,De=(n("3753"),Object(c["a"])(qe,Ve,Ee,!1,null,"63c87c86",null)),Ne=De.exports,Le=n("b76a"),Me=n.n(Le),Pe={name:"Editor",components:{ESignageViewer:Ne,WindowItem:re,ItemEditDialog:we,SplitContainer:Z,LayoutSelector:L,draggable:Me.a},data:function(){var e={};return oe.forEach((function(t){e["".concat(t)]=[]})),{UI:{item_dialog:{show:!1},btn_open:{is_loading:!1},btn_download:{is_loading:!1},viewer:{exists:!0}},name:"E-Signage",selected_layout:"1",windows:e,layout_windows:ae}},computed:{json_data:function(){return{name:this.name,selected_layout:this.selected_layout,windows:this.windows}}},mounted:function(){},methods:{is_in_use:function(e){return se(this.selected_layout,e)},create_item:function(e){this.$refs.item_edit_dialog.open({channel:e})},add_to_channel:function(e){var t=this.windows[e.channel],n=t.findIndex((function(t){return t.id===e.id}));-1===n?t.push(e):t.splice(n,1,e)},download_zip:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.UI.btn_download.is_loading=!0,t.next=3,je(e.json_data);case 3:e.UI.btn_download.is_loading=!1;case 4:case"end":return t.stop()}}),t)})))()},open_zip:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ie();case 2:if(n=t.sent,!n){t.next=12;break}return e.UI.btn_open.is_loading=!0,t.next=7,Se(n);case 7:i=t.sent,e.selected_layout=i.selected_layout,e.windows=i.windows,e.name=i.name,e.UI.btn_open.is_loading=!1;case 12:case"end":return t.stop()}}),t)})))()},remove_item:function(e){if(confirm("Are you sure you want to delete this item?")&&e){var t=this.windows["".concat(e.channel)],n=t.indexOf(e);-1!==n&&t.splice(n,1)}},edit_item:function(e){this.$refs.item_edit_dialog.open(e)},copy_item:function(e){var t=Object(I["a"])({},e);delete t.id,this.$refs.item_edit_dialog.open(t)},restart_viewer:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.UI.viewer.exists=!1,t.next=3,e.$nextTick();case 3:e.UI.viewer.exists=!0;case 4:case"end":return t.stop()}}),t)})))()}}},Be=Pe,We=n("cd55"),Je=n("49e2"),Ye=n("c865"),He=n("0393"),Xe=Object(c["a"])(Be,S,C,!1,null,"7e021f0d",null),Ze=Xe.exports;u()(Xe,{VBtn:ue["a"],VExpansionPanel:We["a"],VExpansionPanelContent:Je["a"],VExpansionPanelHeader:Ye["a"],VExpansionPanels:He["a"],VIcon:k["a"],VSpacer:ve["a"],VTextField:_e["a"]});var Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"viewer",class:{"is-playing":!!e.json_data},on:{drop:function(t){return t.preventDefault(),e.drop_file.apply(null,arguments)},dragover:e.dragover_handle}},[e.json_data?n("e-signage-viewer",{attrs:{json_data:e.json_data,absolute:""}}):e._e(),n("div",{staticClass:"absolute-center text--white"},[e.json_data?e._e():n("v-btn",{staticClass:"btn-open",attrs:{loading:e.UI.btn_open.is_loading,color:"primary"},on:{click:e.open_zip}},[e._v("Open ")])],1),n("div",{staticClass:"side-panel"},[n("v-btn",{staticClass:"btn-open",attrs:{loading:e.UI.btn_open.is_loading,color:"primary",tile:""},on:{click:e.open_zip}},[e._v(" Open ")]),n("v-btn",{attrs:{loading:e.UI.btn_open.is_loading,color:"primary",tile:""},on:{click:e.load_last_zip}},[e._v(" Open Last Zip ")]),n("v-btn",{staticClass:"btn-fullscreen",attrs:{color:"primary",tile:""},on:{click:e.request_fullscreen}},[e._v(" Fullscreen ")]),n("v-btn",{staticClass:"btn-fullscreen",attrs:{color:"primary",tile:""},on:{click:e.exit_fullscreen}},[e._v(" Exit Fullscreen ")]),n("v-spacer"),n("v-btn",{staticClass:"btn-fullscreen",attrs:{color:"error",tile:""},on:{click:function(t){return e.$router.back()}}},[e._v(" Back ")])],1)],1)},Ke=[],Qe=n("a002"),et=n.n(Qe);var tt=et.a.createInstance({name:"viewer"}),nt={name:"Viewer",components:{ESignageViewer:Ne},data:function(){return{UI:{btn_open:{is_loading:!1}},json_data:null}},mounted:function(){return Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.querySelectorAll("html, body").forEach((function(e){e.style.overflowY="hidden"}));case 1:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){document.querySelectorAll("html, body").forEach((function(e){e.style.overflowY=""}))},methods:{open_zip:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ie();case 2:return n=t.sent,t.next=5,e.load_zip(n);case 5:case"end":return t.stop()}}),t)})))()},load_zip:function(e){var t=this;return Object(V["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!==e){n.next=2;break}return n.abrupt("return");case 2:return t.UI.btn_open.is_loading=!0,t.json_data=null,n.next=6,Se(e);case 6:return t.json_data=n.sent,n.next=9,tt.setItem("json_data",t.json_data);case 9:t.UI.btn_open.is_loading=!1;case 10:case"end":return n.stop()}}),n)})))()},load_last_zip:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,tt.getItem("json_data");case 2:if(n=t.sent,n){t.next=6;break}return alert("Cannot find last zip file"),t.abrupt("return");case 6:e.regenerate_url(n),e.json_data=n;case 8:case"end":return t.stop()}}),t)})))()},regenerate_url:function(e){null==e&&(e=this.json_data),oe.forEach((function(t){e.windows[t].forEach((function(e){e.url=URL.createObjectURL(e.file)}))}))},request_fullscreen:function(){document.body.requestFullscreen()},exit_fullscreen:function(){document.exitFullscreen()},drop_file:function(e){if(0!==e.dataTransfer.files.length){var t=e.dataTransfer.files[0];this.load_zip(t)}},dragover_handle:function(e){e.preventDefault()}}},it=nt,rt=(n("3971"),Object(c["a"])(it,Ge,Ke,!1,null,"4bbbe8b9",null)),at=rt.exports;u()(rt,{VBtn:ue["a"],VSpacer:ve["a"]}),i["a"].use(_["a"]);var ot=[{path:"/",name:"E-Signage",component:O},{path:"/viewer",name:"Viewer",component:at,meta:{fullscreen:!0}},{path:"/editor",name:"Editor",component:Ze}],st=new _["a"]({routes:ot}),ct=st,lt=n("f309");i["a"].use(lt["a"]);var ut=new lt["a"]({}),dt=n("9483");Object(dt["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),i["a"].config.productionTip=!1,new i["a"]({router:ct,vuetify:ut,render:function(e){return e(v)}}).$mount("#app")},7389:function(e,t,n){e.exports=n.p+"img/4.0dbcb4ec.png"},"9ac7":function(e,t,n){},beec:function(e,t,n){e.exports=n.p+"img/3.2e1376fa.png"},c86c:function(e,t,n){},d3b8:function(e,t,n){}});
//# sourceMappingURL=app.c772dc75.js.map